# Register, Confirm, Login, and Logout

## Introduction

The Register, Confirm, Login, and Logout routes are used - as their names imply - for user registration, confirmation, logging in, and logging out.


## Register

 * Method: `POST`
 * Endpoint: `{hostname}/register/`
 
### Parameters

#### URL Parameters

 * None

#### Request Body

 * `userEmail`
 * `userPassword`

### Validation

 * `userEmail` must be a valid email address
 * `userEmail` must not already exist in the database
 * `userPassword` must be a minimum of 8 characters
 * `userPassword` must not match one of the most common passwords (as listed in `mostCommonPasswords.txt`)
 
### What happens

If the request passes validation, the following happens:

 * `userID` is autogenerated (GUID)
 * `userPassword` is encrypted with bCrypt
 * The following query is run against the database:

```
INSERT INTO users(userID, userEmail, userPassword, isConfirmed, isAdmin) VALUES({userID}, {userEmail}, {userPassword}, '0', '0');
```

#### On Success

#### On Failure

* The appropriate status is returned, with an informative message indicating what failed and why.

### Example Request


```json

```

### Example Response


```json

```

## Confirm

* Method: `GET`
* Endpoint: `{hostname}/confirm/{token}`

### Parameters

#### URL Parameters

 * `token`

### Validation

 * `token`
 
### What happens

If the request passes validation, the following query is run against the database:

```
UPDATE users SET userConfirm=1 WHERE RIGHT(userID,12)={token};
```

#### On Success



#### On Failure

* The appropriate status is returned, with an informative message indicating what failed and why.

### Example Request

```

```

### Example Response


```json

```

## Login

* Method: `POST`
* Endpoint: `{hostname}/login/`

### Parameters

#### URL Parameters

* None

#### Request Body

 * `userEmail`
 * `userPassword`

### Validation

 * `userEmail`
 * `userPassword`

### What happens

If the request passes validation, the following query is run against the database:

```
SELECT userID FROM users WHERE userEmail={userEmail} AND userPassword={userPassword} AND userConfirmed='1' LIMIT 1;
```

#### On Success

#### On Failure

* The appropriate status is returned, with an informative message indicating what failed and why.

### Example Request


```json

```

### Example Response


```json

```

## Logout

* Method: `GET`
* Endpoint: `{hostname}/logout/`

### Parameters

 * None

### Validation

* None

### What happens

If the request passes validation, the following query is run against the database:

```

```

#### On Success

#### On Failure

* The appropriate status is returned, with an informative message indicating what failed and why.

### Example Request

```

```

### Example Response


```json

```


## Retrieve (Reset) Password


* Method: `POST`
* Endpoint: `{hostname}/retrieve/`

### Parameters

 * `userEmail`

### Validation

 * `userEmail` must be a valid email address
 
### What happens

If the request passes validation, the following query is run against the database:

```
SELECT * FROM users WHERE userEmail={userEmail} and userConfirmed='1';
```

#### On Success

#### On Failure

* 

### Example Request

```json

```

### Example Response


```json

```
